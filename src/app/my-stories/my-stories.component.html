<div class="row" detect-scroll (onScroll)="handleScroll($event)">

    <div class="card" *ngFor="let post of posts" unselectable="on" onselectstart="return false;" onmousedown="return false;">
        <div class="card-body">
          <h5 class="card-title story-title"><a href="feed/{{post.id}}">{{post.title}}</a></h5>
          <div class="media story-author">
              <img class="mr-3" src="{{globals.mediaUrl}}/images/dp/{{post.avtar}}" alt="Generic placeholder image" style="width:48px;">
              <div class="media-body">
                  <h6 class="mt-0">{{post.first_name}} {{post.last_name}}</h6>
                  <p class="comment-timestamp">{{post.post_date | date }}</p>
              </div>
          </div>
          <p class="card-text story-text"> {{ post.body | limit:400 }}<a href="feed/{{post.id}}" *ngIf="post.body.length > 600">... (read more)</a></p>
          <p class="post-stats gray-link">
              {{post.likes}} Likes &nbsp;
              {{post.comments}} Comments &nbsp;
              {{post.views}} Views
          </p>
        </div>
        <div class="card-footer story-footer">
          <a routerLink="" class="card-link" (click)="togglePostLike(post.id)">
            <span [hidden]="post.liked==1">
              <i class="far fa-heart" style="color: #777;"></i> Like
            </span>
            <span style="color: #ff1100;" [hidden]="post.liked==0">
              <i class="fas fa-heart"></i> Liked
            </span>
          </a>

          <a routerLink="" class="card-link float-right" (click)="openComment(post.id)"><i class="far fa-comment" style="color: #777;"></i> Comment</a>
        </div>
    </div>

    <div class="col-md-12 text-center" *ngIf="loading_post">
        <div class="spinner">
          <div class="bounce1"></div>
          <div class="bounce2"></div>
          <div class="bounce3"></div>
        </div>
    </div>
    <div class="col-md-12 text-center" *ngIf="zero_stories">
        <div class="card">
          <div class="card-body">
            <p class="mb-1"><b>You haven't written any story yet. </b></p>
            <p class="small small-text mb-3">Start writing and grow your readers organically.</p>
            <a class="btn btn-sm btn-light" routerLink="../write">Start Writing</a>
          </div>
        </div>
    </div>
    <div class="col-md-12 text-center spinner" *ngIf="refresh_post">
        <button (click)="loadMoreStories()" class="btn btn-light"><i class="fas fa-sync-alt"></i>&nbsp; {{loadErrorMsg}} </button>
    </div>
</div>
